#summary Detailed description of DACP requests

All the requests take the form of http://server:3689/ctrl-int/1/<command>

= playstatusupdate =

* *Request* /playstatusUpdate
 * *Params*
  * *revision-number* revision number 
  * *session-id* session id 
 * *Response* avdb
 * *Description* Jeff Sharkey says 

 "Something important to note is the revision-number field. By starting with revision-number=1, we know that we'll always get a response. However, a new revision-number is returned in the cmsr field. If we request that new revision-number, our HTTP request hangs until the next server event happens, providing push event notification. For example, our request might hang until the user manually changes tracks on the computer, or pauses the track, or maybe a TCP timeout happens."

This is true but from what I've seen the request tends to return and completely reset the state of your session, forcing you to login again.

 * *Content*
{{{
cmst
  mstt(4) - status 
  cmsr(4) - revision-number 
  caps(1) - play status: 4=playing, 3=paused 
  cash(1) - shuffle status: 0=off, 1=on 
  carp(1) - repeat status: 0=none, 1=single, 2=all
  cavc(1) - <Unknown> 
  caas(4) - <Unknown> 
  caar(4) - <Unknown> 
  canp(16) 00000026000052200000530200000f68 
  cann(var) - track name
  cana(var) - artist name
  canl(var) - album name 
  cang(0) - <Unknown>
  asai(8) - album-id 
  cmmk(4) - <Unknown> 
  cant(4) - remaining track time in ms 
  cast(4) - total track length in ms
}}}